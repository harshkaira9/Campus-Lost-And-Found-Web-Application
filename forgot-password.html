<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password - Campus Lost & Found</title>
    <link rel="stylesheet" href="forgot-password.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Background Animation -->
    <div class="background-animation">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
        <div class="circle circle-3"></div>
    </div>

    <!-- Main Container -->
    <div class="forgot-password-container">
        <!-- Logo and Back Button -->
        <div class="header-section">
            <a href="register.html" class="back-button">
                <i class="fas fa-arrow-left"></i>
                <span>Back to Home</span>
            </a>
            <div class="logo">
                <i class="fas fa-search-location"></i>
                <span>Campus Lost & Found</span>
            </div>
        </div>

        <!-- Main Card -->
        <div class="forgot-password-card">
            <!-- Step 1: Email Input -->
            <div class="step-content active" id="step-1">
                <div class="icon-container">
                    <i class="fas fa-lock"></i>
                </div>
                <h1 class="title">Forgot Password?</h1>
                <p class="subtitle">No worries! Enter your email address and we'll send you a code to reset your password.</p>

                <form id="email-form" class="form">
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <div class="input-wrapper">
                            <i class="fas fa-envelope input-icon"></i>
                            <input 
                                type="email" 
                                id="email" 
                                name="email" 
                                placeholder="your.email@campus.edu" 
                                required
                                autocomplete="email"
                            >
                        </div>
                        <span class="error-message" id="email-error"></span>
                    </div>

                    <button type="submit" class="btn btn-primary" id="send-code-btn">
                        <span class="btn-text">Send Reset Code</span>
                        <div class="spinner"></div>
                    </button>
                </form>

                <div class="footer-links">
                    <p>Remember your password? <a href="login.html" class="link">Sign in</a></p>
                </div>
            </div>

            <!-- Step 2: Verification Code -->
            <div class="step-content" id="step-2">
                <div class="icon-container">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h1 class="title">Verify Your Email</h1>
                <p class="subtitle">We've sent a 6-digit verification code to <strong id="sent-email"></strong></p>

                <form id="code-form" class="form">
                    <div class="form-group">
                        <label>Enter Verification Code</label>
                        <div class="code-inputs">
                            <input type="text" maxlength="1" class="code-input" data-index="0" autocomplete="off">
                            <input type="text" maxlength="1" class="code-input" data-index="1" autocomplete="off">
                            <input type="text" maxlength="1" class="code-input" data-index="2" autocomplete="off">
                            <input type="text" maxlength="1" class="code-input" data-index="3" autocomplete="off">
                            <input type="text" maxlength="1" class="code-input" data-index="4" autocomplete="off">
                            <input type="text" maxlength="1" class="code-input" data-index="5" autocomplete="off">
                        </div>
                        <span class="error-message" id="code-error"></span>
                    </div>

                    <div class="resend-section">
                        <p>Didn't receive the code?</p>
                        <button type="button" class="resend-btn" id="resend-btn" disabled>
                            Resend in <span id="timer">60</span>s
                        </button>
                    </div>

                    <button type="submit" class="btn btn-primary" id="verify-code-btn">
                        <span class="btn-text">Verify Code</span>
                        <div class="spinner"></div>
                    </button>
                </form>

                <div class="footer-links">
                    <button class="link-button" onclick="goToStep(1)">
                        <i class="fas fa-arrow-left"></i> Change email address
                    </button>
                </div>
            </div>

            <!-- Step 3: Reset Password -->
            <div class="step-content" id="step-3">
                <div class="icon-container">
                    <i class="fas fa-key"></i>
                </div>
                <h1 class="title">Create New Password</h1>
                <p class="subtitle">Your new password must be different from previously used passwords.</p>

                <form id="reset-form" class="form">
                    <div class="form-group">
                        <label for="new-password">New Password</label>
                        <div class="input-wrapper">
                            <i class="fas fa-lock input-icon"></i>
                            <input 
                                type="password" 
                                id="new-password" 
                                name="new-password" 
                                placeholder="Enter new password" 
                                required
                                autocomplete="new-password"
                            >
                            <button type="button" class="toggle-password" data-target="new-password">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <span class="error-message" id="new-password-error"></span>
                    </div>

                    <div class="password-strength">
                        <div class="strength-bar">
                            <div class="strength-progress" id="strength-progress"></div>
                        </div>
                        <span class="strength-text" id="strength-text">Password strength</span>
                    </div>

                    <div class="password-requirements">
                        <p class="requirements-title">Password must contain:</p>
                        <ul>
                            <li id="req-length">
                                <i class="fas fa-times-circle"></i>
                                <span>At least 8 characters</span>
                            </li>
                            <li id="req-uppercase">
                                <i class="fas fa-times-circle"></i>
                                <span>One uppercase letter</span>
                            </li>
                            <li id="req-lowercase">
                                <i class="fas fa-times-circle"></i>
                                <span>One lowercase letter</span>
                            </li>
                            <li id="req-number">
                                <i class="fas fa-times-circle"></i>
                                <span>One number</span>
                            </li>
                            <li id="req-special">
                                <i class="fas fa-times-circle"></i>
                                <span>One special character (!@#$%^&*)</span>
                            </li>
                        </ul>
                    </div>

                    <div class="form-group">
                        <label for="confirm-password">Confirm Password</label>
                        <div class="input-wrapper">
                            <i class="fas fa-lock input-icon"></i>
                            <input 
                                type="password" 
                                id="confirm-password" 
                                name="confirm-password" 
                                placeholder="Confirm new password" 
                                required
                                autocomplete="new-password"
                            >
                            <button type="button" class="toggle-password" data-target="confirm-password">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <span class="error-message" id="confirm-password-error"></span>
                    </div>

                    <button type="submit" class="btn btn-primary" id="reset-password-btn">
                        <span class="btn-text">Reset Password</span>
                        <div class="spinner"></div>
                    </button>
                </form>
            </div>

            <!-- Step 4: Success -->
            <div class="step-content" id="step-4">
                <div class="icon-container success">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h1 class="title">Password Reset Successful!</h1>
                <p class="subtitle">Your password has been successfully reset. You can now sign in with your new password.</p>

                <div class="success-animation">
                    <div class="checkmark-circle">
                        <div class="checkmark"></div>
                    </div>
                </div>

                <a href="login.html" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>Go to Sign In</span>
                </a>
            </div>
        </div>

        <!-- Progress Indicator -->
        <div class="progress-indicator">
            <div class="progress-step active" data-step="1">
                <div class="step-circle">1</div>
                <span class="step-label">Email</span>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="2">
                <div class="step-circle">2</div>
                <span class="step-label">Verify</span>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step" data-step="3">
                <div class="step-circle">3</div>
                <span class="step-label">Reset</span>
            </div>
        </div>

        <!-- Footer -->
        <div class="page-footer">
            <p>&copy; 2024 Campus Lost & Found. All rights reserved.</p>
            <div class="footer-legal">
                <a href="privacy.html">Privacy Policy</a>
                <span>â€¢</span>
                <a href="terms.html">Terms of Service</a>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toast-message">Success!</span>
    </div>

    <script src="forgot-password.js"></script>
</body>
</html>